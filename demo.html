<!doctype html>  
<html>  
<head>  
<meta charset="utf-8">  
<title>web留言本</title>  
<script type="application/javascript">  
      
function save(id){  
    var data = document.getElementById(id).value;  
    var time = new Date().getTime();  
    localStorage.setItem(time,data);  
    loadStorage('msg');  
      
}  
function loadStorage(id){  
    var result = '<table border="1" cellspacing="0">';  
    for(var i = 0 ; i < localStorage.length;i++){  
        var key = localStorage.key(i);  
        var value = localStorage.getItem(key);  
            var date = new Date();  
        date.setTime(date);  
        var datestr = date.toGMTString();  
        result += '<tr><td>'+value+'</td><td>'+datestr  +'</td></tr>';  
    }  
     result += '<table>';  
    var target = document.getElementById(id);  
    target.innerHTML = result;  
}  
function clearStorage(){  
    localStorage.clear();  
    loadStorage('msg');  
}  
  
  
</script>  
</head>  
<body>  
    <center>  
        <h1>web留言板</h1>  
        <textarea rows="10" cols="100" id="textA"></textarea>  
        <br> <input id="but" value="添加" onClick="save('textA')"  
            type="button"> <input id="clear" value="全部清除"  
            onClick="clearStorage('msg')" type="button">  
        <p id="msg"></p>  
    </center>  
</body>  
</html>  